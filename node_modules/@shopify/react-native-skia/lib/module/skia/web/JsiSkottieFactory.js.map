{"version":3,"names":["Host","JsiSkottieAnimation","JsiSkottieFactory","constructor","CanvasKit","Make","json","assets","rawAssets","key","value","Object","entries","ref","animation","MakeManagedAnimation","Error"],"sources":["JsiSkottieFactory.ts"],"sourcesContent":["import type { CanvasKit } from \"canvaskit-wasm\";\n\nimport type { SkottieFactory } from \"../types\";\n\nimport { Host } from \"./Host\";\nimport { JsiSkottieAnimation } from \"./JsiSkottieAnimation\";\nimport type { JsiSkData } from \"./JsiSkData\";\n\nexport class JsiSkottieFactory extends Host implements SkottieFactory {\n  constructor(CanvasKit: CanvasKit) {\n    super(CanvasKit);\n  }\n\n  Make(json: string, assets?: Record<string, JsiSkData>) {\n    const rawAssets: { [key: string]: ArrayBuffer } = {};\n    for (const [key, value] of Object.entries(assets ?? {})) {\n      rawAssets[key] = value.ref;\n    }\n    const animation = this.CanvasKit.MakeManagedAnimation(json, rawAssets);\n    if (!animation) {\n      throw new Error(\"Failed to create SkottieAnimation\");\n    }\n    return new JsiSkottieAnimation(this.CanvasKit, animation);\n  }\n}\n"],"mappings":"AAIA,SAASA,IAAI,QAAQ,QAAQ;AAC7B,SAASC,mBAAmB,QAAQ,uBAAuB;AAG3D,OAAO,MAAMC,iBAAiB,SAASF,IAAI,CAA2B;EACpEG,WAAWA,CAACC,SAAoB,EAAE;IAChC,KAAK,CAACA,SAAS,CAAC;EAClB;EAEAC,IAAIA,CAACC,IAAY,EAAEC,MAAkC,EAAE;IACrD,MAAMC,SAAyC,GAAG,CAAC,CAAC;IACpD,KAAK,MAAM,CAACC,GAAG,EAAEC,KAAK,CAAC,IAAIC,MAAM,CAACC,OAAO,CAACL,MAAM,aAANA,MAAM,cAANA,MAAM,GAAI,CAAC,CAAC,CAAC,EAAE;MACvDC,SAAS,CAACC,GAAG,CAAC,GAAGC,KAAK,CAACG,GAAG;IAC5B;IACA,MAAMC,SAAS,GAAG,IAAI,CAACV,SAAS,CAACW,oBAAoB,CAACT,IAAI,EAAEE,SAAS,CAAC;IACtE,IAAI,CAACM,SAAS,EAAE;MACd,MAAM,IAAIE,KAAK,CAAC,mCAAmC,CAAC;IACtD;IACA,OAAO,IAAIf,mBAAmB,CAAC,IAAI,CAACG,SAAS,EAAEU,SAAS,CAAC;EAC3D;AACF","ignoreList":[]}